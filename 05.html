<script>
    /*
    PROBLEMA: SIMULADOR DE CAIXA DE LOJA

    Crie um sistema que simula o cálculo do total de um carrinho de compras.
    O carrinho de compras será representado por um array de objetos. Cada objeto
    terá as propriedades: `nome` (string), `precoUnitario` (número) e `quantidade` (número).

    O programa deve:
    1. Calcular o subtotal da compra (soma de `precoUnitario * quantidade` de todos os itens).
    2. Aplicar um desconto de 10% se o subtotal for maior que R$ 200,00.
    3. Calcular o valor final a pagar.
    4. Exibir um resumo no console com o subtotal, o valor do desconto (se houver) e o total a pagar.

    O carrinho já vem preenchido para focar na lógica de cálculo.
    */
   
    //ENTRADA

    const qntProdutos = parseInt(prompt("Informe quantos produtos deseja adicionar ao carrinho"))

    let nomeValor = ""
    let precoUnitarioValor = ""
    let quantidadeValor = ""

    const carrinho = [
    
    ]

    for (let i = 0; i < qntProdutos; i ++) {
        nomeValor = prompt("Informe o nome do produto.");
        precoUnitarioValor = Number(prompt("Informe o preço do produto.")).toFixed(2);
        quantidadeValor = parseInt(prompt("Informe a quantidade de produtos do mesmo que deseja adicionar."));

        carrinho.push({nome: nomeValor, precoUnitario: precoUnitarioValor, quantidade: quantidadeValor});
    }
    


    /*
    const carrinho = [
    
        { nome: "Teclado Mecânico", precoUnitario: 250.00, quantidade: 1 },
        { nome: "Mouse Gamer", precoUnitario: 120.50, quantidade: 1 },
        { nome: "Headset Pro", precoUnitario: 350.00, quantidade: 1 },
        { nome: "Mousepad GG", precoUnitario: 80.00, quantidade: 2 }
    ];

    */

    //PROCESSAMENTO
    let valorTotal = 0
    let subTotal = 0
    for (let i = 0; i < carrinho.length; i++) {
        subTotal = carrinho[i].precoUnitario * carrinho[i].quantidade;
        console.log(`Subtotal de ${carrinho[i].nome}: ${carrinho[i].precoUnitario}`);
        if (subTotal > 200) {
            subTotal -= subTotal * .10
            console.log("Desconto de 10% no valor, por ser maior que R$200,00");
        }
        valorTotal += subTotal
        subTotal = 0
    }

    //SAÍDA
    alert(`O valor final a ser pago é R$${valorTotal.toFixed(2)}`)
</script>